(()=>{"use strict";function e(e){e.classList.add("popup_is-animated"),e.classList.add("popup_is-opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function o(e){e.addEventListener("click",(function(n){n.target===e&&t(e)}))}function r(e,t,n){var o=e.parentElement.querySelector(".".concat(e.id,"-error"));e.classList.add(n.inputErrorClass),o.classList.add(n.errorClass),o.textContent=t}function i(e,t){var n=e.parentElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(t.inputErrorClass),n.classList.remove(t.errorClass),n.textContent=""}function c(e,t){Array.from(e.querySelectorAll(t.inputSelector)).forEach((function(e){i(e,t)}))}var u,s=document.querySelector(".popup-filter-sign-up"),l=document.querySelector(".popup-filter-log-in"),a=document.querySelector(".popup-filter-not"),d=document.forms["sign-up"],p=document.forms["log-in"],f=document.querySelectorAll(".sign-up"),m=document.querySelectorAll(".log-in"),v=document.querySelectorAll(".not"),y=document.querySelector(".popup-close__button-sing-in"),E=document.querySelector(".popup-close__button"),S={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"};u=S,Array.from(document.querySelectorAll(u.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),o=e.querySelector(t.submitButtonSelector);n.forEach((function(e){e.addEventListener("input",(function(){!function(e,t){e.validity.valid?i(e,t):e.validity.patternMismatch?r(e,e.dataset.errorMessage,t):r(e,e.validationMessage,t)}(e,t),function(e,t,n){var o=e.every((function(e){return e.validity.valid}));o?(t.classList.remove(n.inactiveButtonClass),t.disabled=!1):(t.classList.add(n.inactiveButtonClass),t.disabled=!0)}(n,o,t)}))}))}(e,u)})),o(s),o(l),o(a),E.addEventListener("click",(function(){return t(s)})),y.addEventListener("click",(function(){return t(l)})),f.forEach((function(t){t.addEventListener("click",(function(){e(s),c(s,S),d.reset()}))})),m.forEach((function(t){t.addEventListener("click",(function(){e(l),c(l,S),p.reset()}))})),v.forEach((function(n){n.addEventListener("click",(function(){return e(a),setTimeout((function(){t(a)}),500),!1}))}))})();